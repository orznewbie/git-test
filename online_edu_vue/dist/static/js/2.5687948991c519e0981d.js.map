{"version":3,"sources":["webpack:///src/components/user/Login.vue","webpack:///./src/components/user/Login.vue?ef3d","webpack:///./src/components/user/Login.vue"],"names":["Login","name","data","username","password","checked","validateResult","methods","open3","this","$message","message","type","center","open4","loginHandler","_this","geetest_challenge","params","passwd","geetest_validate","geetest_seccode","$http","login","then","res","error","localStorage","setItem","access_token","avatar","shop_cart_num","balance","$store","dispatch","$router","push","catch","err","console","log","rememberMe","getGeetest","_this2","geetest","initGeetest","gt","challenge","offline","success","new_captcha","product","width","captchaObj","appendTo","onReady","onSuccess","result","getValidate","onError","toRegister","created","mounted","document","getElementsByClassName","setAttribute","user_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","alt","_v","plain","on","click","_m","directives","rawName","value","expression","placeholder","domProps","input","$event","target","composing","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.5687948991c519e0981d.js","sourcesContent":["<template>\n  <div class=\"box\">\n    <img src=\"https://s2.ax1x.com/2019/04/14/AOarGT.jpg\" alt>\n    <el-button :plain=\"true\" @click=\"open3\"></el-button>\n    <el-button :plain=\"true\" @click=\"open4\"></el-button>\n    <div class=\"login\">\n      <div class=\"login-title\">\n        <p>机会永远只留给有准备的人</p>\n        <br>\n        <br>\n      </div>\n      <div class=\"login_box\">\n        <div class=\"title\">\n          <span>密码登录</span>\n          <span>短信登录</span>\n        </div>\n        <div class=\"inp\">\n          <input v-model=\"username\" type=\"text\" placeholder=\"用户名\" class=\"user\">\n          <input v-model=\"password\" type=\"password\" name class=\"pwd\" placeholder=\"密码\">\n          <div id=\"geetest\"></div>\n          <div class=\"rember\">\n            <p @click=\"rememberMe\">\n              <el-checkbox>记住密码</el-checkbox>\n            </p>\n            <p>忘记密码</p>\n          </div>\n          <button class=\"login_btn\" @click=\"loginHandler\">立即登录</button>\n          <p class=\"go_login\">\n            没有账号?\n            <span @click=\"toRegister\">立即注册</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      checked: \"\",\n      validateResult: {} //验证成功之后返回的结果，它用于服务端sdk的二次验证\n    };\n  },\n\n  methods: {\n    open3() {\n      this.$message({\n        message: \"请先点击验证按钮进行验证\",\n        type: \"warning\",\n        center: true\n      });\n    },\n\n    open4() {\n      this.$message({\n        message: \"请先输入账号密码\",\n        type: \"error\",\n        center: true\n      });\n    },\n\n    loginHandler() {\n      if (!this.validateResult.geetest_challenge) {\n        this.open3();\n      } else if (!this.username && !this.password) {\n        this.open4();\n      } else {\n        let params = {\n          username: this.username,\n          passwd: this.password,\n          geetest_challenge: this.validateResult.geetest_challenge,\n          geetest_validate: this.validateResult.geetest_validate,\n          geetest_seccode: this.validateResult.geetest_seccode\n        };\n        this.$http\n          .login(params)\n          .then(res => {\n            if (!res.error) {\n              localStorage.setItem(\"access_token\", res.data.access_token);\n              localStorage.setItem(\"username\", res.data.username);\n              localStorage.setItem(\"avatar\", res.data.avatar);\n              localStorage.setItem(\"shop_cart_num\", res.data.shop_cart_num);\n              localStorage.setItem(\"balance\", res.data.balance);\n\n              // dispacth action的行为\n              this.$store.dispatch(\"getUserInfo\", res.data);\n\n              // 注册过来的，登录成功之后跳转会到注册页面\n              // this.$router.go(-2)\n\n              this.$router.push({\n                name: \"Home\"\n              });\n            } else {\n              this.$message({\n                message: \"登录失败，请重试\",\n                type: \"error\",\n                center: true\n              });\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      }\n    },\n\n    // 记住密码\n    rememberMe() {\n      this.$store.dispatch(\"rememberUserInfo\");\n    },\n\n    // 极验\n    getGeetest() {\n      this.$http\n        .geetest()\n        .then(res => {\n          let data = res;\n          var that = this;\n          //请检测data的数据结构， 保证data.gt, data.challenge, data.success有值\n          initGeetest(\n            {\n              // 以下配置参数来自服务端 SDK\n              gt: data.gt,\n              challenge: data.challenge,\n              offline: !data.success,\n              new_captcha: true,\n              product: \"popup\",\n              width: \"100%\"\n            },\n            captchaObj => {\n              // 这里可以调用验证实例 captchaObj 的实例方法\n              captchaObj.appendTo(\"#geetest\"); //将验证按钮插入到宿主页面中captchaBox元素内\n              captchaObj\n                .onReady(() => {\n                  //your code\n                })\n                .onSuccess(() => {\n                  var result = captchaObj.getValidate();\n                  this.validateResult = result;\n                })\n                .onError(() => {});\n            }\n          );\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    toRegister() {\n      this.$router.push({\n        name: \"Register\"\n      });\n    }\n  },\n  created() {\n    this.getGeetest();\n  },\n\n  mounted() {\n    // 把顶部的导航栏去掉\n    document\n      .getElementsByClassName(\"el-container\")[0]\n      .setAttribute(\"style\", \"display:none\");\n  }\n};\n</script>\n\n<style lang=\"css\" scoped>\n.box {\n  width: 100%;\n  position: relative;\n}\n.box img {\n  width: 100%;\n}\n.box .login {\n  position: absolute;\n  width: 500px;\n  height: 400px;\n  top: 50%;\n  left: 50%;\n  margin-left: -250px;\n  margin-top: -300px;\n  opacity: 0.9;\n}\n.login .login-title {\n  width: 100%;\n  text-align: center;\n}\n.login-title img {\n  width: 190px;\n  height: auto;\n}\n.login-title p {\n  font-family: PingFangSC-Regular;\n  font-size: 18px;\n  color: #fff;\n  letter-spacing: 0.29px;\n  padding-top: 10px;\n}\n.login_box {\n  width: 400px;\n  height: auto;\n  background: #fff;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  margin: 0 auto;\n  padding-bottom: 40px;\n}\n.login_box .title {\n  font-size: 20px;\n  color: #9b9b9b;\n  letter-spacing: 0.32px;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  justify-content: space-around;\n  padding: 50px 60px 0 60px;\n  margin-bottom: 20px;\n  cursor: pointer;\n}\n.login_box .title span:nth-of-type(1) {\n  color: #4a4a4a;\n  border-bottom: 2px solid #00b4e4;\n}\n\n.inp {\n  width: 350px;\n  margin: 0 auto;\n}\n.inp input {\n  border: 0;\n  outline: 0;\n  width: 100%;\n  height: 45px;\n  border-radius: 4px;\n  border: 1px solid #d9d9d9;\n  text-indent: 20px;\n  font-size: 14px;\n  background: #fff !important;\n}\n.inp input.user {\n  margin-bottom: 16px;\n}\n.inp .rember {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  margin-top: 10px;\n}\n.inp .rember p:first-of-type {\n  font-size: 12px;\n  color: #4a4a4a;\n  letter-spacing: 0.19px;\n  margin-left: 22px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  /*position: relative;*/\n}\n.inp .rember p:nth-of-type(2) {\n  font-size: 14px;\n  color: #9b9b9b;\n  letter-spacing: 0.19px;\n  cursor: pointer;\n}\n\n.inp .rember p span {\n  display: inline-block;\n  font-size: 12px;\n  width: 100px;\n  /*position: absolute;*/\n  /*left: 20px;*/\n}\n#geetest {\n  margin-top: 20px;\n}\n.login_btn {\n  width: 100%;\n  height: 45px;\n  background: #00b4e4;\n  border-radius: 5px;\n  font-size: 16px;\n  color: #fff;\n  letter-spacing: 0.26px;\n  margin-top: 30px;\n}\n.inp .go_login {\n  text-align: center;\n  font-size: 14px;\n  color: #9b9b9b;\n  letter-spacing: 0.26px;\n  padding-top: 20px;\n}\n.inp .go_login span {\n  color: #00b4e4;\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('img',{attrs:{\"src\":\"https://s2.ax1x.com/2019/04/14/AOarGT.jpg\",\"alt\":\"\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":true},on:{\"click\":_vm.open3}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":true},on:{\"click\":_vm.open4}}),_vm._v(\" \"),_c('div',{staticClass:\"login\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"login_box\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"inp\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"user\",attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"pwd\",attrs:{\"type\":\"password\",\"name\":\"\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"geetest\"}}),_vm._v(\" \"),_c('div',{staticClass:\"rember\"},[_c('p',{on:{\"click\":_vm.rememberMe}},[_c('el-checkbox',[_vm._v(\"记住密码\")])],1),_vm._v(\" \"),_c('p',[_vm._v(\"忘记密码\")])]),_vm._v(\" \"),_c('button',{staticClass:\"login_btn\",on:{\"click\":_vm.loginHandler}},[_vm._v(\"立即登录\")]),_vm._v(\" \"),_c('p',{staticClass:\"go_login\"},[_vm._v(\"\\n          没有账号?\\n          \"),_c('span',{on:{\"click\":_vm.toRegister}},[_vm._v(\"立即注册\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-title\"},[_c('p',[_vm._v(\"机会永远只留给有准备的人\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"密码登录\")]),_vm._v(\" \"),_c('span',[_vm._v(\"短信登录\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bafc4fb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1bafc4fb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bafc4fb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1bafc4fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}